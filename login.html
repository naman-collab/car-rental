<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - CarRental</title>

<style>
*{
    margin:0; padding:0;
    box-sizing:border-box;
    font-family:Arial;
}
body{
    background:#0c0c0c;
    color:white;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding-top:80px;
}

/* NAVBAR (same everywhere) */
nav{
    width:100%;
    padding:15px 40px;
    background:black;
    position:fixed;
    top:0; left:0;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:2px solid gold;
    z-index:1000;
}
nav h2{
    color:gold;
    font-size:24px;
}
nav ul{
    display:flex;
    gap:25px;
    list-style:none;
}
nav ul li a{
    color:white;
    text-decoration:none;
    font-size:17px;
}
nav ul li a:hover{
    color:gold;
}

/* LOGIN BOX */
.box{
    width:320px;
    background:#111;
    padding:25px;
    border-radius:10px;
    border:2px solid gold;
    text-align:center;
    transition:0.4s;
}
.box h2{
    color:gold;
    margin-bottom:10px;
}
input{
    width:100%;
    padding:12px;
    margin:10px 0;
    background:black;
    border:1px solid #444;
    border-radius:5px;
    color:white;
}
button{
    width:100%;
    padding:12px;
    margin-top:10px;
    background:red;
    border:none;
    color:white;
    border-radius:5px;
    font-size:18px;
    cursor:pointer;
}
button:hover{
    background:#b30000;
}
.toggle{
    margin-top:10px;
    color:gold;
    cursor:pointer;
}
.toggle:hover{
    text-decoration:underline;
}

/* POPUP SIGNUP */
.popup-bg{
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.7);
    display:none;
    justify-content:center;
    align-items:center;
}
.popup{
    width:300px;
    background:#111;
    padding:20px;
    border-radius:10px;
    border:2px solid gold;
}
.close{
    color:red;
    float:right;
    font-size:18px;
    cursor:pointer;
}
#popupSuccess{
    color:lightgreen;
    text-align:center;
    display:none;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav>
    <h2>CarRental</h2>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="cars.html">Cars</a></li>
        <li><a href="booking.html">Book</a></li>
        <li><a href="payment.html">Payment</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</nav>

<!-- LOGIN / SIGNUP BOX -->
<div class="box" id="mainBox">

    <h2 id="formTitle">Login</h2>

    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPass" placeholder="Password">

    <button onclick="loginUser()">Login</button>

    <p class="toggle" onclick="showSignup()">Create Account</p>
    <p class="toggle" onclick="openSignupPopup()">Quick Signup (Popup)</p>
</div>

<!-- POPUP SIGNUP -->
<div class="popup-bg" id="signupPopup">
    <div class="popup">
        <span class="close" onclick="closeSignupPopup()">âœ–</span>
        <h3 style="color:gold;text-align:center;">Quick Signup</h3>

        <input type="text" id="pName" placeholder="Full Name">
        <input type="email" id="pEmail" placeholder="Email">
        <input type="password" id="pPass" placeholder="Password">

        <button onclick="popupSignup()">Create Account</button>

        <p id="popupSuccess">Account Created!</p>
    </div>
</div>

<script>
/* ---------------------- LOGIN SYSTEM ---------------------- */

function loginUser(){
    let email = document.getElementById("loginEmail").value;
    let pass = document.getElementById("loginPass").value;

    if(email=="admin@gmail.com" && pass=="1234"){
        alert("Admin Logged In");
        window.location="admin.html";
        return;
    }

    let storedEmail = localStorage.getItem("userEmail");
    let storedPass = localStorage.getItem("userPass");

    if(email == storedEmail && pass == storedPass){
        alert("Login Successful");
        window.location="index.html";
    } else {
        alert("Invalid Login Details");
    }
}

/* ---------------------- TOGGLE SIGNUP FORM ---------------------- */
function showSignup(){

    let box = document.getElementById("mainBox");
    box.innerHTML = `
        <h2 style="color:gold;">Create Account</h2>

        <input type="text" id="sName" placeholder="Full Name">
        <input type="email" id="sEmail" placeholder="Email">
        <input type="password" id="sPass" placeholder="Password">
        <input type="password" id="sPass2" placeholder="Confirm Password">

        <button onclick="createAccount()">Sign Up</button>

        <p class="toggle" onclick="showLogin()">Already have an account?</p>
    `;

    box.style.height="auto";
}

function showLogin(){

    let box = document.getElementById("mainBox");
    box.innerHTML = `
        <h2 style="color:gold;">Login</h2>

        <input type="email" id="loginEmail" placeholder="Email">
        <input type="password" id="loginPass" placeholder="Password">

        <button onclick="loginUser()">Login</button>

        <p class="toggle" onclick="showSignup()">Create Account</p>
        <p class="toggle" onclick="openSignupPopup()">Quick Signup (Popup)</p>
    `;
}

/* ---------------------- NORMAL SIGNUP ---------------------- */

function createAccount(){
    let name = document.getElementById("sName").value;
    let email = document.getElementById("sEmail").value;
    let pass = document.getElementById("sPass").value;
    let pass2 = document.getElementById("sPass2").value;

    if(!name || !email || !pass){
        alert("Fill all fields!");
        return;
    }
    if(pass !== pass2){
        alert("Passwords do not match!");
        return;
    }

    localStorage.setItem("userName", name);
    localStorage.setItem("userEmail", email);
    localStorage.setItem("userPass", pass);

    alert("Account Created Successfully!");
    showLogin();
}

/* ---------------------- POPUP SIGNUP ---------------------- */

function openSignupPopup(){
    document.getElementById("signupPopup").style.display="flex";
}
function closeSignupPopup(){
    document.getElementById("signupPopup").style.display="none";
}

function popupSignup(){
    let n=document.getElementById("pName").value;
    let e=document.getElementById("pEmail").value;
    let p=document.getElementById("pPass").value;

    if(!n || !e || !p){ alert("Fill all fields!"); return; }

    localStorage.setItem("userName", n);
    localStorage.setItem("userEmail", e);
    localStorage.setItem("userPass", p);

    document.getElementById("popupSuccess").style.display="block";
}
</script>
<script src="main.js"></script>
</body>
</html>
